# tg_support_bot

**Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏—ë–º–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–∞–Ω–∏–∏.**

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º—É email (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ –±–µ–ª–æ–º—É —Å–ø–∏—Å–∫—É)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö email-–∞–¥—Ä–µ—Å–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram-–≥—Ä—É–ø–ø—É –∏/–∏–ª–∏ –Ω–∞ email
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π, —à–∞–±–ª–æ–Ω–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ YAML-—Ñ–∞–π–ª—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jinja2 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –∏ HTML-–ø–∏—Å–µ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç (FSM) —Å –ø–æ—à–∞–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í–æ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –µ–≥–æ —Ä–∞–±–æ—Ç—ã:

### 1. –ó–∞–ø—É—Å–∫ –∏ –∫–æ–º–∞–Ω–¥–∞ `/start`

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`.
- –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ Telegram ID.

---

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ email

- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email.
- –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ `allow_incomplete_input`, —Ç–æ email –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –±–µ–∑ –¥–æ–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ivanov` ‚Üí `ivanov@yourcompany.com`).
- Email –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
  - –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é (`email_pattern`),
  - –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤ –±–µ–ª–æ–º —Å–ø–∏—Å–∫–µ (—Ç–∞–±–ª–∏—Ü–∞ email-–æ–≤ –≤ –ë–î),
  - –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (`is_banned`).

#### –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- ‚úÖ Email –Ω–∞–π–¥–µ–Ω –∏ –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Üí –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.
- ‚õî Email –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç, —á—Ç–æ email –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.
- üö´ Email –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Üí –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### 3. üîÑ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:

- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤–≤–æ–¥–µ —Ç–æ–≥–æ –∂–µ email ‚Äî –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.
- –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–æ–≤–æ–≥–æ email ‚Äî –±–æ—Ç –ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–º–µ–Ω—É email.

---

### 4. üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≤–≤–æ–¥ –æ–±—Ä–∞—â–µ–Ω–∏—è

- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–æ—Ç –º–æ–∂–µ—Ç (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫):
  - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (`welcome_user.txt`),
  - –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ–±—Ä–∞—â–µ–Ω–∏—è.

---

### 5. üóÇ –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ–º—É –æ–±—Ä–∞—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –æ—à–∏–±–∫–∏¬ª).
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏–∑ `ticket_categories`.

---

### 6. üí¨ –í–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è

- –ë–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è.
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª–∏–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç `max_submission_length`, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è).
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–∞—Å—Ç–æ—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π (`max_requests` –≤ `interval_sec`).

---

### 7. üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è

- –ë–æ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤ (`ticket_summary.txt`, `support_email.html`).
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –≤:
  - —É–∫–∞–∑–∞–Ω–Ω—ã–π Telegram-—á–∞—Ç (`SUPPORT_CHAT_ID`),
  - email (—á–µ—Ä–µ–∑ SMTP-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `.env`).

---

### 8. üîÅ –í–æ–∑–≤—Ä–∞—Ç –≤ IDLE

- –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `IDLE`, –æ–∂–∏–¥–∞—è –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.


## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.9 –∏–ª–∏ –≤—ã—à–µ.

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/yourname/tg_support_bot.git
   cd tg_support_bot
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python -m venv venv
   call venv\Scripts\activate  # Windows
   source venv/bin/activate    # Linux/macOS
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
setup.bat
```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ Telegram-–±–æ—Ç–∞:

```bash
start_bot.bat      # Windows
./start_bot.sh     # Linux/macOS
```

–î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email:

```bash
start_test_email.bat
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### `.env`

–í —Ñ–∞–π–ª–µ `.env` —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```dotenv
BOT_TOKEN=your_bot_token
EMAIL_SENDER=bot@yourcompany.com
EMAIL_PASSWORD=app_password
SMTP_SERVER=smtp.yourcompany.com
SMTP_PORT=587
SUPPORT_EMAIL=support@yourcompany.com
SUPPORT_CHAT_ID=-1001234567890
LOG_LEVEL=DEBUG
```

#### –ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                 |
|--------------------|----------------------------------------------------------------------------|
| `BOT_TOKEN`         | –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –æ—Ç [@BotFather](https://t.me/BotFather).              |
| `EMAIL_SENDER`      | –ê–¥—Ä–µ—Å email-–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —è—â–∏–∫ –±–æ—Ç–∞).              |
| `EMAIL_PASSWORD`    | –ü–∞—Ä–æ–ª—å/—Ç–æ–∫–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è SMTP-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è.              |
| `SMTP_SERVER`       | SMTP-—Å–µ—Ä–≤–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email-—Å–æ–æ–±—â–µ–Ω–∏–π.                   |
| `SMTP_PORT`         | –ü–æ—Ä—Ç SMTP-—Å–µ—Ä–≤–µ—Ä–∞ (–æ–±—ã—á–Ω–æ `587` –¥–ª—è STARTTLS –∏–ª–∏ `465` –¥–ª—è SMTPS).        |
| `SUPPORT_EMAIL`     | Email —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –∏ —à–∞–±–ª–æ–Ω–∞—Ö.           |
| `SUPPORT_CHAT_ID`   | Telegram chat ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥—Ä—É–ø–ø—ã) –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Ç–∏–∫–µ—Ç–æ–≤.                |
| `LOG_LEVEL`         | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL`.     |


### `config/auth.yaml`

–§–∞–π–ª auth.yaml —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ email. 
–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ª–æ–≥–∏–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã /start –∏ –≤–≤–æ–¥–∞ email –≤ Telegram-–±–æ—Ç–µ.

#### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```yaml
auth:
  email_pattern: "^[a-zA-Z0-9_.+-]+@yourcompany\.com$"
  email_autocomplete: "@yourcompany.com"
  allow_incomplete_input: true
  send_welcome_before_topic: true
  send_topic_after_auth: true
  delay_after_auth_success: 2
```

#### –ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä                     | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------------------------|---------|----------|
| `email_pattern`             | string  | –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –∑–∞–¥–∞—é—â–µ–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç email. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–≤–µ–¥—ë–Ω–Ω–æ–≥–æ email. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω `@yourcompany.com`. |
| `email_autocomplete`        | string  | –°—É—Ñ—Ñ–∏–∫—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –∫ email, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–Ω –±–µ–∑ `@`. –ù–∞–ø—Ä–∏–º–µ—Ä, `foo` –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ `foo@yourcompany.com`. |
| `allow_incomplete_input`    | boolean | –†–∞–∑—Ä–µ—à–∏—Ç—å –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ email –ø—Ä–∏ –Ω–µ–ø–æ–ª–Ω–æ–º –≤–≤–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `test` ‚Üí `test@yourcompany.com`). –ï—Å–ª–∏ `false`, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—è–∑–∞–Ω –≤–≤–æ–¥–∏—Ç—å –ø–æ–ª–Ω—ã–π email. |
| `send_welcome_before_topic` | boolean | –ï—Å–ª–∏ `true`, —Ç–æ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. |
| `send_topic_after_auth`     | boolean | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, –±—É–¥–µ—Ç –ª–∏ –ø–æ–∫–∞–∑–∞–Ω –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ `false`, –±–æ—Ç –ø–µ—Ä–µ–π–¥—ë—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –≤—ã–±—Ä–∞—Ç—å —Ç–µ–º—É. |
| `delay_after_auth_success`  | int     | –ó–∞–¥–µ—Ä–∂–∫–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è). |


### `config/ui_config.yaml`

–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ:
- –∫–æ–º–∞–Ω–¥—ã –º–µ–Ω—é,
- –Ω–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏,
- –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∏–∫–µ—Ç–æ–≤,
- –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```yaml
telegram_menu: # –û–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –≤ –º–µ–Ω—é Telegram:
  - command: start
    description: "–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é"
  - command: help
    description: "–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É"
  - command: myid
    description: "–ü–æ–∫–∞–∑–∞—Ç—å ID –∏ email (–µ—Å–ª–∏ –µ—Å—Ç—å)"

telegram_start: # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  show_action_button_if_authorized: true      # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –¥–µ–π—Å—Ç–≤–∏–π –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
  action_button_text: "üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ" # –¢–µ–∫—Å—Ç –Ω–∞ —ç—Ç–æ–π –∫–Ω–æ–ø–∫–µ

authorization: # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
  confirm_change_buttons:
    yes: "‚úÖ –î–∞" # –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–º–µ–Ω—ã email
    no: "‚ùå –ù–µ—Ç" # –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã —Å–º–µ–Ω—ã email

  email_status_labels:
    allowed: "‚úÖ –†–∞–∑—Ä–µ—à—ë–Ω" # –ú–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω–æ–≥–æ email
    banned: "üö´ –ó–∞–±–∞–Ω–µ–Ω"   # –ú–µ—Ç–∫–∞ –¥–ª—è –∑–∞–±–∞–Ω–µ–Ω–Ω–æ–≥–æ email

ticket_categories: # –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è
  - "üíª –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Å–±–æ–∏"
  - "üõ† –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –æ—à–∏–±–∫–∏"
  - "üåê –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã"
  - "üîë –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥–æ—Å—Ç—É–ø"
  - "üõ° –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
  - "‚ùó –ñ–∞–ª–æ–±–∞/–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å"
  - "üìÅ –î—Ä—É–≥–æ–µ"

message_limits: # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –æ–±—Ä–∞—â–µ–Ω–∏—è–º –∏ —Ç–µ–∫—Å—Ç–∞–º
  max_submission_length: 1500   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–∞—è –¥–ª–∏–Ω–∞ –æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è
  max_requests: 3               # –°–∫–æ–ª—å–∫–æ –æ–±—Ä–∞—â–µ–Ω–∏–π —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
  interval_sec: 3600            # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–∏–æ–¥–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 —á–∞—Å = 3600)
```

## üìÅ –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π

–§–∞–π–ª—ã —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `templates/`. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≥–∏–±–∫–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π:

| –§–∞–π–ª                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------------------------|------------|
| auth_start.txt          | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω |
| auth_success.txt        | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| auth_already.txt        | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω |
| auth_not_registered.txt | Email –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ |
| auth_banned.txt         | Email –≤ –±–∞–∑–µ, –Ω–æ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π |
| auth_invalid.txt        | –í–≤–µ–¥—ë–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email |
| auth_change_confirm.txt | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–º–µ–Ω—ã email |
| auth_changed.txt        | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π —Å–º–µ–Ω–µ email |
| auth_change_cancelled.txt | –°–º–µ–Ω–∞ email –æ—Ç–º–µ–Ω–µ–Ω–∞ |
| welcome_user.txt        | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| select_topic.txt        | –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| select_topic_intro.txt  | –í–≤–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–µ–º—ã, –µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –Ω–µ –ø–æ inline-–∫–Ω–æ–ø–∫–µ |
| enter_message.txt       | –ü—Ä–æ—Å—å–±–∞ –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è |
| invalid_topic.txt       | –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| invalid_input.txt       | –í–≤–µ–¥–µ–Ω–æ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É/–Ω–µ –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç |
| message_too_long.txt    | –°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ |
| ticket_sent.txt         | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| ticket_summary.txt      | –ò—Ç–æ–≥–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–µ –≤ Telegram –∏/–∏–ª–∏ email |
| email_added.txt         | –£—Å–ø–µ—à–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ email |
| email_banned.txt        | –£—Å–ø–µ—à–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ email |
| email_removed.txt       | –£—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ email |
| email_required.txt      | Email –Ω–µ —É–∫–∞–∑–∞–Ω –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–º–∞–Ω–¥—ã |
| email_status_found.txt  | –°—Ç–∞—Ç—É—Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ email (—Ä–∞–∑—Ä–µ—à—ë–Ω/–∑–∞–±–∞–Ω–µ–Ω) |
| email_status_not_found.txt | Email –Ω–µ –Ω–∞–π–¥–µ–Ω |
| email_subject.txt       | –¢–µ–º–∞ –ø–∏—Å—å–º–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ email –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É |
| my_id.txt               | –°–æ–æ–±—â–µ–Ω–∏–µ —Å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ email (–µ—Å–ª–∏ –µ—Å—Ç—å) |
| not_authorized.txt      | –û—à–∏–±–∫–∞: –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º |
| help_user.txt           | –°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| help_admin.txt          | –°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ |
| support_email.html      | HTML-—à–∞–±–ª–æ–Ω email —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ |
| rate_limit_exceeded.txt | –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π, –≤–∫–ª—é—á–∞–µ—Ç —Ç–∞–π–º–µ—Ä –æ–∂–∏–¥–∞–Ω–∏—è |

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ pyproject.toml

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pyproject.toml`, –¥–æ—Å—Ç—É–ø–µ–Ω CLI:

```bash
tg-support-bot
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
